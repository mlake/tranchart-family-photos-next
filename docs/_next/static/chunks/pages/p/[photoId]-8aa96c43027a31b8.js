(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[146],{5100:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/p/[photoId]",function(){return a(2249)}])},9225:(e,t,a)=>{"use strict";a.d(t,{A:()=>v});var l=a(4848),o=a(8553),n=a(8674),s=a(2303),r=a(3138),c=a(6802),i=a(187),d=a(4485),h=a(8906),u=a(1932),x=a(9965),m=a.n(x),p=a(6540),b=a(188);let f={enter:e=>({x:e>0?1e3:-1e3,opacity:0}),center:{x:0,opacity:1},exit:e=>({x:e<0?1e3:-1e3,opacity:0})},w=(e,t)=>{let a=[];void 0===t&&(t=e,e=0);for(let l=e;l<t;l+=1)a.push(l);return a};function g(e){return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-twitter",...e,children:(0,l.jsx)("path",{d:"M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"})})}function v(e){let{index:t,images:a,changePhotoId:x,closeModal:v,navigation:j,currentPhoto:k,direction:N}=e,[_,y]=(0,p.useState)(!1),C=null==a?void 0:a.filter(e=>w(t-15,t+15).includes(e.id)),A=(0,b.uh)({onSwipedLeft:()=>{t<(null==a?void 0:a.length)-1&&x(t+1)},onSwipedRight:()=>{t>0&&x(t-1)},trackMouse:!0}),q=a?a[t]:k;return(0,l.jsx)(d.x,{transition:{x:{type:"spring",stiffness:300,damping:30},opacity:{duration:.2}},children:(0,l.jsxs)("div",{className:"relative z-50 flex aspect-[3/2] w-full max-w-7xl items-center wide:h-full xl:taller-than-854:h-auto",...A,children:[(0,l.jsx)("div",{className:"w-full overflow-hidden",children:(0,l.jsx)("div",{className:"relative flex aspect-[3/2] items-center justify-center",children:(0,l.jsx)(h.N,{initial:!1,custom:N,children:(0,l.jsx)(u.P.div,{custom:N,variants:f,initial:"enter",animate:"center",exit:"exit",className:"absolute",children:(0,l.jsx)(m(),{src:"https://res.cloudinary.com/".concat("doxqsq6gh","/image/upload/c_scale,").concat(j?"w_1280":"w_1920","/").concat(q.public_id,".").concat(q.format),width:j?1280:1920,height:j?853:1280,priority:!0,alt:"",onLoad:()=>y(!0)})},t)})})}),(0,l.jsxs)("div",{className:"absolute inset-0 mx-auto flex max-w-7xl items-center justify-center",children:[_&&(0,l.jsxs)("div",{className:"relative aspect-[3/2] max-h-full w-full",children:[j&&(0,l.jsxs)(l.Fragment,{children:[t>0&&(0,l.jsx)("button",{className:"absolute left-3 top-[calc(50%-16px)] rounded-full bg-black/50 p-3 text-white/75 backdrop-blur-lg transition hover:bg-black/75 hover:text-white focus:outline-none",style:{transform:"translate3d(0, 0, 0)"},onClick:()=>x(t-1),children:(0,l.jsx)(o.A,{className:"h-6 w-6"})}),t+1<a.length&&(0,l.jsx)("button",{className:"absolute right-3 top-[calc(50%-16px)] rounded-full bg-black/50 p-3 text-white/75 backdrop-blur-lg transition hover:bg-black/75 hover:text-white focus:outline-none",style:{transform:"translate3d(0, 0, 0)"},onClick:()=>x(t+1),children:(0,l.jsx)(n.A,{className:"h-6 w-6"})})]}),(0,l.jsxs)("div",{className:"absolute top-0 right-0 flex items-center gap-2 p-3 text-white",children:[j?(0,l.jsx)("a",{href:"https://res.cloudinary.com/".concat("doxqsq6gh","/image/upload/").concat(q.public_id,".").concat(q.format),className:"rounded-full bg-black/50 p-2 text-white/75 backdrop-blur-lg transition hover:bg-black/75 hover:text-white",target:"_blank",title:"Open fullsize version",rel:"noreferrer",children:(0,l.jsx)(s.A,{className:"h-5 w-5"})}):(0,l.jsx)("a",{href:"https://twitter.com/intent/tweet?text=Check%20out%20this%20pic%20from%20Next.js%20Conf!%0A%0Ahttps://nextjsconf-pics.vercel.app/p/".concat(t),className:"rounded-full bg-black/50 p-2 text-white/75 backdrop-blur-lg transition hover:bg-black/75 hover:text-white",target:"_blank",title:"Open fullsize version",rel:"noreferrer",children:(0,l.jsx)(g,{className:"h-5 w-5"})}),(0,l.jsx)("button",{onClick:()=>{var e,a;return e="https://res.cloudinary.com/".concat("doxqsq6gh","/image/upload/").concat(q.public_id,".").concat(q.format),void((a="".concat(t,".jpg"))||(a=e.split("\\").pop().split("/").pop()),fetch(e,{headers:new Headers({Origin:location.origin}),mode:"cors"}).then(e=>e.blob()).then(e=>{var t,l;let o;t=window.URL.createObjectURL(e),l=a,(o=document.createElement("a")).download=l,o.href=t,document.body.appendChild(o),o.click(),o.remove()}).catch(e=>console.error(e)))},className:"rounded-full bg-black/50 p-2 text-white/75 backdrop-blur-lg transition hover:bg-black/75 hover:text-white",title:"Download fullsize version",children:(0,l.jsx)(r.A,{className:"h-5 w-5"})})]}),(0,l.jsx)("div",{className:"absolute top-0 left-0 flex items-center gap-2 p-3 text-white",children:(0,l.jsx)("button",{onClick:()=>v(),className:"rounded-full bg-black/50 p-2 text-white/75 backdrop-blur-lg transition hover:bg-black/75 hover:text-white",children:j?(0,l.jsx)(c.A,{className:"h-5 w-5"}):(0,l.jsx)(i.A,{className:"h-5 w-5"})})})]}),j&&(0,l.jsx)("div",{className:"fixed inset-x-0 bottom-0 z-40 overflow-hidden bg-gradient-to-b from-black/0 to-black/60",children:(0,l.jsx)(u.P.div,{initial:!1,className:"mx-auto mt-6 mb-6 flex aspect-[3/2] h-14",children:(0,l.jsx)(h.N,{initial:!1,children:C.map(e=>{let{public_id:o,format:n,id:s}=e;return(0,l.jsx)(u.P.button,{initial:{width:"0%",x:"".concat(Math.max(-((t-1)*100),-1500),"%")},animate:{scale:s===t?1.25:1,width:"100%",x:"".concat(Math.max(-100*t,-1500),"%")},exit:{width:"0%"},onClick:()=>x(s),className:"".concat(s===t?"z-20 rounded-md shadow shadow-black/50":"z-10"," ").concat(0===s?"rounded-l-md":""," ").concat(s===a.length-1?"rounded-r-md":""," relative inline-block w-full shrink-0 transform-gpu overflow-hidden focus:outline-none"),children:(0,l.jsx)(m(),{alt:"small photos on the bottom",width:180,height:120,className:"".concat(s===t?"brightness-110 hover:brightness-110":"brightness-50 contrast-125 hover:brightness-75"," h-full transform object-cover transition"),src:"https://res.cloudinary.com/".concat("doxqsq6gh","/image/upload/c_scale,w_180/").concat(o,".").concat(n)})},s)})})})})]})]})})}},2249:(e,t,a)=>{"use strict";a.r(t),a.d(t,{__N_SSG:()=>x,default:()=>m});var l=a(4848),o=a(3368),n=a.n(o),s=a(6715),r=a(9965),c=a.n(r),i=a(5718),d=a(5624),h=a(9225);function u(e){let{index:t,currentPhoto:a}=e,o=(0,s.useRouter)(),[,n]=(0,d.C)();function r(){n(a.id),o.push("/",void 0,{shallow:!0})}return(0,i.A)("Escape",()=>{r()}),(0,l.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center",children:[(0,l.jsx)("button",{className:"absolute inset-0 z-30 cursor-default bg-black backdrop-blur-2xl",onClick:r,children:(0,l.jsx)(c(),{src:a.blurDataUrl,className:"pointer-events-none h-full w-full",alt:"blurred background",fill:!0,priority:!0})}),(0,l.jsx)(h.A,{index:t,changePhotoId:function(e){return e},currentPhoto:a,closeModal:r,navigation:!1})]})}var x=!0;let m=e=>{let{currentPhoto:t}=e,{photoId:a}=(0,s.useRouter)().query,o=Number(a),r="https://res.cloudinary.com/".concat("doxqsq6gh","/image/upload/c_scale,w_2560/").concat(t.public_id,".").concat(t.format);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n(),{children:[(0,l.jsx)("title",{children:"Tranchart Plaques"}),(0,l.jsx)("meta",{property:"og:image",content:r}),(0,l.jsx)("meta",{name:"twitter:image",content:r})]}),(0,l.jsx)("main",{className:"mx-auto max-w-[1960px] p-4",children:(0,l.jsx)(u,{currentPhoto:t,index:o})})]})}},5624:(e,t,a)=>{"use strict";a.d(t,{C:()=>o});let{useGlobalState:l}=(0,a(7474).V)({photoToScrollTo:null}),o=()=>l("photoToScrollTo")}},e=>{var t=t=>e(e.s=t);e.O(0,[702,636,593,792],()=>t(5100)),_N_E=e.O()}]);